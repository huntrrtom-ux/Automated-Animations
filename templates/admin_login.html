<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin â€” Hunter Motions</title>
    <link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@400;500;600;700&family=Exo+2:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/static/css/style.css">
    <style>
        .login-wrap { display: flex; align-items: center; justify-content: center; min-height: 80vh; }
        .login-card { width: 100%; max-width: 360px; padding: 2.5rem; }
        .login-card h2 { font-family: var(--font-display); font-size: 1.5rem; font-weight: 600; margin-bottom: 0.3rem; }
        .login-card p { font-size: 0.82rem; color: var(--text-secondary); margin-bottom: 1.5rem; }
        .login-form { display: flex; flex-direction: column; gap: 1rem; }
        .login-error { color: var(--error); font-size: 0.82rem; display: none; }
    </style>
</head>
<body>
    <div class="login-wrap">
        <div class="card login-card">
            <h2>Admin Access</h2>
            <p>Enter your admin password to continue.</p>
            <div class="login-form">
                <input type="password" id="password" class="text-input" placeholder="Password" autofocus>
                <p class="login-error" id="error-msg">Incorrect password</p>
                <button class="btn btn-primary" id="login-btn" style="justify-content:center;width:100%">Log In</button>
            </div>
        </div>
    </div>
    <script>
        const loginBtn = document.getElementById('login-btn');
        const pwInput = document.getElementById('password');
        const errorMsg = document.getElementById('error-msg');

        async function doLogin() {
            const formData = new FormData();
            formData.append('password', pwInput.value);
            const resp = await fetch('/admin/login', { method: 'POST', body: formData });
            if (resp.ok) {
                window.location.href = '/admin';
            } else {
                errorMsg.style.display = 'block';
                pwInput.value = '';
                pwInput.focus();
            }
        }
        loginBtn.addEventListener('click', doLogin);
        pwInput.addEventListener('keydown', (e) => { if (e.key === 'Enter') doLogin(); });
    </script>
</body>
</html>
